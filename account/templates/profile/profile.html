<!-- account/templates/profile/profile.html -->
{% extends 'base.html' %}

{% block content %}


<section class="section">
  <div class="container">
    <div class="columns">
      <div class="column">
        <h2 class="title is-2">{{ profile.user.first_name }}, {{ profile.calc_age }}</h2>
        <br>
        <b>Time:</b> {{ profile.proposal_time }}
        <br>
        <b>Place:</b> {{ profile.location_dropdown }}
        <br>
        <br>
        <!--  buttons -->  
        <div class="block">
          <!-- match buttons -->  
          {%if not current_user_profile.matches.exists %}
          {%if profile in current_user_profile.liked_by.all %}
          <form method="post">
              {% csrf_token %}
              <div class="buttons has-addons">
                <button class="button is-success" name="match" value="match">Match</button>
                <button class="button is-danger" name="match" value="decline">Decline</button>
              </div>
            </form>
          {% else %}
          <!-- not show like hide for yourself -->
          {%if profile != current_user_profile and profile not in current_user_profile.likes.all%}
          <form method="post">
            {% csrf_token %}
            <div class="buttons">
              <button class="button is-success" name="like" value="like">Like</button>
              <button class="button is-danger" name="like" value="hide">Hide</button>
            </div>
          </form>
          {% endif %}
          {% endif %}
          {% endif %}
        </div>
        
        <b>Occupation:</b> {{ profile.occupation }}
        <br>    
        <b>Gender Identity: </b> {{ profile.gender_identity }}
        <br>
        <b>Sexual Orientation: </b> {{ profile.sexual_orientation }}

        <p><b>About me:</b> {{ profile.about_me }}</p>
        <br>

      </div>
      <div class="column">
        <img src="{{ profile.photo.url }}" width="250px">
      </div>

    </div>
  </div>
</section>





<br>

{%if not current_user_profile.matches.exists %}
<div class="block">
  <a href="{% url 'filter_profile_list' %}">
      <button class="button is-dark is-outlined ">
          All Profiles
      </button>
  </a>
</div>
{%endif%}

{% endblock content %}