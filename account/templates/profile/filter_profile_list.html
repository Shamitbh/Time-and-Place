<!-- account/profile_list.html -->
{% extends 'base.html' %}

{% load thumbnail %}
{% block content %}

<div class="column">
  <h1 class="title is-4">Here are the suggestions based on your preferences!</h1>
  <p>
    You can 
    <ul>
      <li>
        <a href="{% url 'preferences' pk=user.id %}">Preview your preferences</a>,  or
      </li>
      <li> 
        <a href="{% url "edit_preferences" %}">Edit your preferences</a>
      </li>
    </ul>
{% for profile in profiles %}
  {% if profile.calc_age >= currentuser.age_preference_min and profile.calc_age <= currentuser.age_preference_max %}
    <div class="block">
      <div class="card">
        <a href="{% url 'profile' pk=profile.user.id %}">
          <div class="card-content">
            <div class="media">
 
              <div class="media-content">
                <h3 class="title is-4">
                  {{ profile.user.first_name  }} , {{ profile.calc_age  }} 
                </h3>
                <div class="media-left">
                  <div class="user">
                      
                    <img src="{%thumbnail profile.photo '180x180' crop='smart'%}">
                       <!--  alt="Placeholder image"> -->
                    
                    </div>
                  </div>
                <p class="subtitle is-6">
                  {{ profile.proposal_time }} @{{ profile.location_dropdown }}
                </p>
                <br>
              </div>
              
            </div>
          </div>
        </a>
        <!-- <div class="buttons has-addons">
          <button class="button is-like">Like</button>
          <button class="button is-hide">Hide</button>
        </div>   -->
      </div>
    </div>
    {% endif %} 
{% endfor %}

</div>

<!--Pagination-->

<!-- {% if profiles.has_previous %} 
<a href="?page=1">&laquo First </a>
<a href="?page={{profiles.previous_page_number}}">&laquo Previous </a>
{% endif %} 

Page {{profiles.number}} of {{profiles.paginator.num_pages}}

{% if profiles.has_next %} 
<a href="?page={{profiles.next_page_number}}">&raquo Next </a>
{% endif %}  -->

<nav class="pagination is-centered is-rounded" role="navigation" aria-label="pagination">
	{% if profiles.has_previous %} 
	<a href="?page={{profiles.previous_page_number}}" class="pagination-previous">Previous</a>
	{%else%}
	<!-- <a href="#" class="pagination-previous">Previous</a> -->
	{% endif %} 
	
	{% if profiles.has_next %} 
		<a href="?page={{profiles.next_page_number}}" class="pagination-next">Next Page</a>
	{%else%}
		<!-- <a href="#" class="pagination-next">Next Page</a> -->
	{% endif %} 

	<ul class="pagination-list">
		<li>
			<a class="pagination-link is-current" aria-label="Page 46" aria-current="page">Page {{profiles.number}} of {{profiles.paginator.num_pages}} </a>
	
	</ul>
	
	
	
  </nav>

{% endblock content %}